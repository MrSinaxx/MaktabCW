{% extends 'base.html' %}
{% block title %}
<title>All Posts</title>
{% endblock title %}
{% block content %}
    <!-- Post Content -->
    <article class="mb-4">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <h2 class="post-title">{{ post.title }}</h2>
                    <p>{{ post.content }}</p>
                    <p>
                        Placeholder text by
                        <a href="#">{{ post.author }}</a>
                        in
                        <a href="#">{{ post.publication_date }}</a>
                    </p>
                </div>
            </div>
        </div>
    </article>
    <!-- Divider -->
    <hr class="my-4" />
    <!-- Post Comment -->
    <article class="mb-4">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <h3>Comments</h3>
                {% if comments %}
                    <ul>
                        {% for comment in comments %}
                            <li>
                                <p>{{ comment.content }}</p>
                                <p>By: {{ comment.author }}</p>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No comments yet.</p>
                {% endif %}
            </div>
        </div>
    </article>
    <!-- Form Comment -->
<!-- Form Comment -->
<article class="mb-4">
    <div class="container px-4 px-lg-5">
        <form class="row gx-4 gx-lg-5 justify-content-center" method="POST" action="{% url 'write_comment' post.id %}">
            {% csrf_token %}
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="form-group">
                    <label for="author_name">Your Name</label>
                    <input type="text" class="form-control" id="author_name" name="author_name" required>
                </div>
                <div class="form-group">
                    <label for="comment">Write a comment</label>
                    <textarea class="form-control" id="comment" name="content" rows="4" required></textarea>
                </div>
                <button class="btn btn-primary" type="submit">Submit Comment</button>
            </div>
        </form>
    </div>
</article>

{% endblock content %}
